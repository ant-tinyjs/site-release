(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{489:function(t,s,n){"use strict";n.r(s);var a=n(1),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),n("p",[t._v("动画可以让互动应用丰富多彩，开发也更轻松，你可以像这样创建一个动画：")]),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),n("p",[t._v("运行上面的代码，精灵就会先向右下角移动，然后旋转360度。")]),n("p",[t._v('最后，建议你不要让精灵同时执行多个动画，这样可能会有冲突。\n如果有这种需要，可以阅读"'),n("router-link",{attrs:{to:"/guide/advanced-actions-extras.html"}},[t._v("扩展篇")]),t._v('"介绍的高级用法来实现。')],1),t._m(8),t._m(9),n("p",[t._v("为防止大量创建 Action 导致内存泄露，你应该在需要的时候对它们进行手动移除。")]),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15)])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"简单使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简单使用","aria-hidden":"true"}},[this._v("#")]),this._v(" 简单使用")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 新建 action，时长是2000ms，旋转360度")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" action "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Tiny"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("RotateTo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("rotation"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Tiny"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("deg2radian")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("360")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 执行 action RepeatForever")]),t._v("\nsprite"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("runAction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Tiny"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("RepeatForever")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("运行效果如下（点击播放）：\n"),s("video",{attrs:{controls:"",width:"100",loop:"loop",name:"media"}},[s("source",{attrs:{src:"https://os.alipayobjects.com/rmsportal/ACOmcPKmGgKnyhgUyNEI.mp4",type:"video/mp4"}})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 "),s("code",[this._v("MoveTo")]),this._v(" 可以让精灵从当前位置移动到指定的位置，下面的代码会让精灵在 1000ms 内移动到 x=100，y=100 的位置：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("Tiny"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("MoveTo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Tiny"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("point")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"顺序执行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#顺序执行","aria-hidden":"true"}},[this._v("#")]),this._v(" 顺序执行")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("那么，如何让多个动画按顺序执行呢？使用 "),s("code",[this._v("Container")]),this._v(" 类的实例化对象的 "),s("code",[this._v("runSequenceAction")]),this._v(" 方法：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" moveToAction "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Tiny"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("MoveTo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Tiny"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("point")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("150")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" rotateTo360Action "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Tiny"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("RotateTo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("rotation"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Tiny"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PI_2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsprite"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("runSequenceAction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moveToAction"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rotateTo360Action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("blockquote",[n("p",[t._v("Tips")]),n("ul",[n("li",[n("code",[t._v("Tiny.point")]),t._v(" 是一个静态方法，用于快速创建一个点对象，"),n("code",[t._v("Tiny.point(100, 100)")]),t._v(" 相当于 "),n("code",[t._v("{x: 100, y: 100}")]),t._v("；")]),n("li",[n("code",[t._v("Tiny.scale")]),t._v(" 也是一个静态方法，用于快速创建一个缩放值，"),n("code",[t._v("Tiny.scale(0.5, 0.5)")]),t._v(" 相当于 "),n("code",[t._v("{scaleX: 0.5, scaleY: 0.5}")]),t._v("；")]),n("li",[t._v("如果两个入参一样，可以直接传一个，如："),n("code",[t._v("Tiny.point(100)")]),t._v(" 和 "),n("code",[t._v("Tiny.point(100, 100)")]),t._v(" 一样")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"手动移除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手动移除","aria-hidden":"true"}},[this._v("#")]),this._v(" 手动移除")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("可以使用 "),n("code",[t._v("Container")]),t._v(" 类的实例化对象的 "),n("code",[t._v("removeAction")]),t._v(" 来移除某个（些）Action，"),n("code",[t._v("removeActions")]),t._v(" 来移除该对象上绑定的所有 Action，"),n("code",[t._v("removeActionsTrace")]),t._v(" 来移除该对象及其子集上绑定的所有 Action。")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除该对象上绑定的所有 Action")]),t._v("\nsprite"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeActions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除该对象上绑定的某个（些） Action")]),t._v("\nsprite"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeAction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除该对象及其子集上绑定的所有 Action")]),t._v("\nsprite"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeActionsTrace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("也可以使用 Action 的静态方法 "),s("code",[this._v("cleanup")]),this._v(" 移除对象上的所有 Action：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("Tiny"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cleanup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sprite"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"自动移除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动移除","aria-hidden":"true"}},[this._v("#")]),this._v(" 自动移除")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("每一个显示对象在被 "),n("code",[t._v("remove")]),t._v(" 时都会自动清除其及子集的所有的 actions，比如："),n("code",[t._v("removeChild")]),t._v("、"),n("code",[t._v("removeChildAt")]),t._v("、"),n("code",[t._v("removeChildren")]),t._v("。")])}],!1,null,null,null);s.default=e.exports}}]);